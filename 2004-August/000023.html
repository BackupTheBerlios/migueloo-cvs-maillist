<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Migueloo-cvs] migueloo/modules/andromeda/include/error/classes base_Error.class.php,1.4,1.5 base_verror.orig.php,1.3,1.4
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/migueloo-cvs/2004-August/index.html" >
   <LINK REL="made" HREF="mailto:migueloo-cvs%40lists.berlios.de?Subject=Re%3A%20%5BMigueloo-cvs%5D%20migueloo/modules/andromeda/include/error/classes%20base_Error.class.php%2C1.4%2C1.5%20base_verror.orig.php%2C1.3%2C1.4&In-Reply-To=%3C200408211905.i7LJ53628943%40bat.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000022.html">
   <LINK REL="Next"  HREF="000019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Migueloo-cvs] migueloo/modules/andromeda/include/error/classes base_Error.class.php,1.4,1.5 base_verror.orig.php,1.3,1.4</H1>
    <B>luisllorente</B> 
    <A HREF="mailto:migueloo-cvs%40lists.berlios.de?Subject=Re%3A%20%5BMigueloo-cvs%5D%20migueloo/modules/andromeda/include/error/classes%20base_Error.class.php%2C1.4%2C1.5%20base_verror.orig.php%2C1.3%2C1.4&In-Reply-To=%3C200408211905.i7LJ53628943%40bat.berlios.de%3E"
       TITLE="[Migueloo-cvs] migueloo/modules/andromeda/include/error/classes base_Error.class.php,1.4,1.5 base_verror.orig.php,1.3,1.4">nobody at sheep.berlios.de
       </A><BR>
    <I>Sat Aug 21 21:05:03 CEST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000022.html">[Migueloo-cvs] migueloo/modules/andromeda/model/classes base_model.class.php,1.3,1.4
</A></li>
        <LI>Next message: <A HREF="000019.html">[Migueloo-cvs] migueloo/modules/andromeda/model/classes/ddbb base_model.class.php,1.1,1.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23">[ date ]</a>
              <a href="thread.html#23">[ thread ]</a>
              <a href="subject.html#23">[ subject ]</a>
              <a href="author.html#23">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Update of /cvsroot/migueloo/migueloo/modules/andromeda/include/error/classes
In directory sheep:/tmp/cvs-serv22200/modules/andromeda/include/error/classes

Modified Files:
	base_Error.class.php base_verror.orig.php 
Log Message:
Uso correcto de las comillas dobles y peque&#241;as traducciones a ingl&#233;s

Index: base_Error.class.php
===================================================================
RCS file: /cvsroot/migueloo/migueloo/modules/andromeda/include/error/classes/base_Error.class.php,v
retrieving revision 1.4
retrieving revision 1.5
diff -C2 -d -r1.4 -r1.5
*** base_Error.class.php	9 Aug 2004 22:09:03 -0000	1.4
--- base_Error.class.php	21 Aug 2004 19:05:00 -0000	1.5
***************
*** 79,83 ****
  		@setlocale(LC_ALL, $GLOBALS['locale']);
  	
! 		$gettext_domain = &quot;errors&quot;;
  		bindtextdomain($gettext_domain, miguel_webDir().'/miguel/gettext');
  		textdomain($gettext_domain);
--- 79,83 ----
  		@setlocale(LC_ALL, $GLOBALS['locale']);
  	
! 		$gettext_domain = 'errors';
  		bindtextdomain($gettext_domain, miguel_webDir().'/miguel/gettext');
  		textdomain($gettext_domain);
***************
*** 132,139 ****
  	function showErrors ()
  	{
! 		if ($this-&gt;hasError() &amp;&amp; !strstr(substr($_SERVER[&quot;PHP_SELF&quot;], -33), &quot;miguel/messages/error_message.php&quot;)) {
! 			$_SESSION[&quot;errors&quot;] = $this-&gt;ArrayErrors;
! 			$_SESSION[&quot;errors_args&quot;] = $this-&gt;ArrayErrorsArgs;
! 			header(&quot;Location: &quot;.$GLOBALS['urlServer'].&quot;miguel/messages/error_message.php&quot;);
  		}
  	}
--- 132,139 ----
  	function showErrors ()
  	{
! 		if ($this-&gt;hasError() &amp;&amp; !strstr(substr($_SERVER['PHP_SELF'], -33), 'miguel/messages/error_message.php')) {
! 			$_SESSION['errors'] = $this-&gt;ArrayErrors;
! 			$_SESSION['errors_args'] = $this-&gt;ArrayErrorsArgs;
! 			header('Location: '.$GLOBALS['urlServer'].'miguel/messages/error_message.php');
  		}
  	}
***************
*** 150,154 ****
    	  * @private
  	  */
! 	function _addError ($error, $args_array=&quot;&quot;)
  	{
          	if ($this-&gt;validError($error)) {
--- 150,154 ----
    	  * @private
  	  */
! 	function _addError ($error, $args_array='')
  	{
          	if ($this-&gt;validError($error)) {
***************
*** 157,161 ****
  			        $this-&gt;ArrayErrors[]     = $error;
  			        $this-&gt;bError            = TRUE;
!                         } elseif (count($args_array) == substr_count(agt($error), &quot;%&quot;)) {
                                  $this-&gt;ArrayErrorsArgs[$error] = $args_array;
  			        $this-&gt;ArrayErrors[]     = $error;
--- 157,161 ----
  			        $this-&gt;ArrayErrors[]     = $error;
  			        $this-&gt;bError            = TRUE;
!                         } elseif (count($args_array) == substr_count(agt($error), '%')) {
                                  $this-&gt;ArrayErrorsArgs[$error] = $args_array;
  			        $this-&gt;ArrayErrors[]     = $error;

Index: base_verror.orig.php
===================================================================
RCS file: /cvsroot/migueloo/migueloo/modules/andromeda/include/error/classes/base_verror.orig.php,v
retrieving revision 1.3
retrieving revision 1.4
diff -C2 -d -r1.3 -r1.4
*** base_verror.orig.php	6 Aug 2004 10:38:42 -0000	1.3
--- base_verror.orig.php	21 Aug 2004 19:05:00 -0000	1.4
***************
*** 41,57 ****
  // NOTE: This is an error page and dependences with db neither configuration file must be deleted, so like
  // in the install script, we set the vars ussually setted in the config file.
! $GLOBALS['webDir']           = realpath(&quot;../..&quot;).&quot;/&quot;;
! $GLOBALS['urlAppend']        = str_replace (&quot;/miguel/messages/error_message.php&quot;, &quot;&quot;, $PHP_SELF);
! $GLOBALS['urlServer']        = &quot;<A HREF="http://">http://</A>&quot;.$SERVER_NAME.$GLOBALS['urlAppend'].&quot;/&quot;;
  $GLOBALS['language']         = -1;
  $GLOBALS['config_readed']    = TRUE;
! $GLOBALS['educationManager'] = &quot;Juan Espaol&quot;;
! $GLOBALS['siteName']         = &quot;miguel&quot;;
! $GLOBALS['Institution']      = &quot;Hispalinux&quot;;
! $GLOBALS['InstitutionUrl']   = &quot;<A HREF="http://www.hispalinux.es/">http://www.hispalinux.es/</A>&quot;;
  
  // Now -as always- we set the vars needed by the header files
! //$GLOBALS['langFile']    = &quot;index&quot;;
! $GLOBALS['headerTitle'] = &quot;Miguel Error&quot;;
  
  @include_once ('../include/miguel_require.php');
--- 41,57 ----
  // NOTE: This is an error page and dependences with db neither configuration file must be deleted, so like
  // in the install script, we set the vars ussually setted in the config file.
! $GLOBALS['webDir']           = realpath('../..').'/';
! $GLOBALS['urlAppend']        = str_replace ('/miguel/messages/error_message.php', '', $PHP_SELF);
! $GLOBALS['urlServer']        = '<A HREF="http://">http://</A>'.$SERVER_NAME.$GLOBALS['urlAppend'].'/';
  $GLOBALS['language']         = -1;
  $GLOBALS['config_readed']    = TRUE;
! $GLOBALS['educationManager'] = 'Juan Espaol';
! $GLOBALS['siteName']         = 'miguel';
! $GLOBALS['Institution']      = 'Hispalinux';
! $GLOBALS['InstitutionUrl']   = '<A HREF="http://www.hispalinux.es/">http://www.hispalinux.es/</A>';
  
  // Now -as always- we set the vars needed by the header files
! //$GLOBALS['langFile']    = 'index';
! $GLOBALS['headerTitle'] = 'Miguel Error';
  
  @include_once ('../include/miguel_require.php');
***************
*** 81,91 ****
  // It might have happened more than one error. If that's the case, we provide the errors separated with a comma
  
! $ErrorsArray       = $_SESSION[&quot;errors&quot;];
! $Errors_args_Array = $_SESSION[&quot;errors_args&quot;];
  
  // 1:
  if (!is_array($ErrorsArray))
  {
!          $GLOBALS['miguel_Error']-&gt;_addError(&quot;no error code was given&quot;);
  // 2:
  }
--- 81,91 ----
  // It might have happened more than one error. If that's the case, we provide the errors separated with a comma
  
! $ErrorsArray       = $_SESSION['errors'];
! $Errors_args_Array = $_SESSION['errors_args'];
  
  // 1:
  if (!is_array($ErrorsArray))
  {
!          $GLOBALS['miguel_Error']-&gt;_addError('no error code was given');
  // 2:
  }
***************
*** 114,118 ****
    */
  
! //miguelIncludeHeader(&quot;miguel&quot;);
  @include_once (miguel_webDir().'miguel/include/miguel_topheader.php');
  
--- 114,118 ----
    */
  
! //miguelIncludeHeader('miguel');
  @include_once (miguel_webDir().'miguel/include/miguel_topheader.php');
  


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000022.html">[Migueloo-cvs] migueloo/modules/andromeda/model/classes base_model.class.php,1.3,1.4
</A></li>
	<LI>Next message: <A HREF="000019.html">[Migueloo-cvs] migueloo/modules/andromeda/model/classes/ddbb base_model.class.php,1.1,1.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23">[ date ]</a>
              <a href="thread.html#23">[ thread ]</a>
              <a href="subject.html#23">[ subject ]</a>
              <a href="author.html#23">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/migueloo-cvs">More information about the Migueloo-cvs
mailing list</a><br>
</body></html>
